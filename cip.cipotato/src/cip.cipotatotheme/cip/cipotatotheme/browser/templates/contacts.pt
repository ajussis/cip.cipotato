<html metal:use-macro="here/main_template/macros/master">
<metal:block fill-slot="top_slot"
                 tal:define="disable_column_one python:request.set('disable_plone.leftcolumn',1);" />
    <metal:main_macro define-macro="main">
        <metal:main fill-slot="main"
                    tal:define="toLocalizedTime nocall:context/@@plone/toLocalizedTime;
                                contactareas python:['Headquarters','Divisions','Partnerships','Regional Offices'];
                                canEdit python:checkPermission('Modify portal content', here);
                                insideareas python:[[''],['Director General\'s Office','External Relations','Director for Strategy Corporate Develoment\'s Office','Deputy Director General\'s For Research','Director Finance and Administration Office','Library','Communications and Public Awareness Department','Finances','Accounting','Adquisition & Distribution Unit','Grants and Contracts','Administration Office','Logistics','Human Resources','Lodging and Food Services','Research Informatics Unit','Information Technology Unit'],
                                ['Division 1: Social and Health Science','Division 2: Genetic Resources','Division 3: Germplasm Enhancement and Crop Improvement','Division 4: Crop Management and Production Systems','Division 5: Production Systems and the Environment','Research Support - Huancayo','Research Support - La Molina','Research Support - San Ramon'],
                                ['ALTAGRO Project','CONDESAN','ICRAF','Papa Andina','Special Projects'],
                                ['Liaison Office, Beijing, China','Liaison Office, Ethiopia','Liaison Office, Hanoi, Vietnam','Liaison Office, Huambo, Angola','Liaison Office, Kampala, Uganda','Liaison Office, Lilongwe, Malawi','Liaison Office, Mozambique','Liaison Office, Quito, Ecuador','Liaison Office, Tashkent, Uzbekistan','Regional Office, Lembang, Indonesia','Regional Office, New Delhi, India']];">

            <script type="text/javascript" src="fading-tabs.js"></script>
            <script type="text/javascript">
                $(function() {$('#tabwrap').tabs({ fxFade: true, fxSpeed: 'slow' }); });
            </script>
            <style type="text/css">
                /* jQuery Fading Tabs: This is all the css that's needed to make it work. The two rules below are generated by the tabs plugin */
                .tabs-hide {
                display:none; /* hide non-active tabs */
                }
                .tabs-container {
                background:#fff; /* kills fadding in/out IE text bug */
                }
            </style>

            <h1 tal:content="context/title"></h1>

            <div class="contact-div-1" id="tabwrap">
                <ul id="tabnav">
                    <li><a href="#tab1">DGs office</a></li>
                    <li><a href="#tab2">Divisions</a></li>
                    <li><a href="#tab3">Regional offices</a></li>
                    <li><a href="#tab4">Partnerships</a></li>
                </ul>

                <tal:areas repeat="deps contactareas">
                    <div tal:define="dep repeat/deps/number;
                                     tabid python:'tab'+str(dep);
                                     listing python:insideareas[dep];"
                         tal:attributes="id tabid"
                         class="tab1-c">
                        <tal:repeatrow repeat="inside listing">
	                        <div tal:define="oddrow repeat/inside/odd" class="contact-div" 
	                        	 tal:attributes="class python:oddrow and 'contact-div person_even' or 'contact-div person_odd'">
	                            <tal:defining>
	                                <h2 class="contact-h2" tal:content="inside"></h2>
	                                <!--div class="contact-p" tal:define="n python:view.cpadHead(inside)">
	                                    <div tal:condition="n" class="contact-p-1">
	                                        <div class="contact-p-1-1">
	                                            <div class="contact-position">Head</div>
	                                            <h3>
	                                                <span tal:replace="n/pretty_title_or_id" />
	                                            </h3>
	                                        </div>
	                                        <div class="contact-p-1-2">
	                                            <p>Email: valerie@email.com</p>
	                                        </div>
	                                    </div>
	                                    <p class="show" id="clickme">Show all staff</p>
	                                    <div class="lineBreak"></div>
	                                </div-->
	                                <div class="contact-p">
	                                    <p class="show" id="clickme">Show staff</p>
	                                </div>
	                                <div class="contacttoggle">
	                                    <tal:defs define="n python:view.cpad(inside)">
	                                        <div class="contact-p-1" tal:repeat="m n">
	                                            <tal:definepro tal:define="head m/getHead;
	                                            						   url m/getURL;">
	                                                <tal:isprofile tal:condition="head">
	                                                    <div style="float:left; width:25px;">
	                                                        <a href="#" tal:attributes="href url">
	                                                        	<img src="contact.gif" title="Click for full profile" alt="Click for full profile" />
	                                                        </a>
	                                                    </div>
	                                                    <div class="contact-p-1-details">
	                                                        <div class="contact-position" tal:content="m/getPosition" />
	                                                        <h4>
	                                                            <a href="#" tal:attributes="href url">
	                                                                <span tal:replace="m/pretty_title_or_id"/>
	                                                            </a>
	                                                        </h4>
	                                                    </div>
	                                                    <!--div class="contact-p-1-2">
	                                                        <p>Email: email@email.com</p>
	                                                    </div-->
	                                                </tal:isprofile>
	                                                <tal:notprofile tal:condition="not: head">
	                                                    <div style="float:left;">
	                                                        <div class="contact-position" style="float:left;" tal:content="m/getPosition" />
	                                                        <h4 tal:condition="not:canEdit">
	                                                            <span tal:replace="m/pretty_title_or_id"/>
	                                                        </h4>
	                                                        <h4 tal:condition="canEdit">
	                                                            <a href="#" tal:attributes="href url">
	                                                                <span tal:replace="m/pretty_title_or_id"/>
	                                                            </a>
	                                                        </h4>
	                                                    </div>
	                                                    <!--div class="contact-p-1-2">
	                                                        <p>Email: email@email.com</p>
	                                                    </div-->
	                                                </tal:notprofile>
	                                            </tal:definepro>
	                                        </div>
	                                    </tal:defs>
	                                </div>
	                            </tal:defining>
	                        </div>
	                    </tal:repeatrow>
                    </div>
                </tal:areas>
            </div>

            <script>
                $(function() {
                    $('.show').click(function(){
                        $(this).parents(".contact-div").children('.contacttoggle').slideToggle('fast');
                        return false; //ensures no anchor jump
                    });
                });
            </script>

        </metal:main>
    </metal:main_macro>
</html>
