<html metal:use-macro="here/main_template/macros/master">
<metal:block fill-slot="top_slot"
                 tal:define="disable_column_one python:request.set('disable_plone.leftcolumn',1);" />
    <metal:main_macro define-macro="main">
        <metal:main fill-slot="main"
                    tal:define="toLocalizedTime nocall:context/@@plone/toLocalizedTime;
                                contactareas python:['Headquarters','Regional offices','Divisions','Partnerships'];
                                insideareas python:[[''],['Communications','Human resources','Finances','Administration','Logistics','Information technology Unit'],['Impact Enhancement','Genetic Resources Conservation and Characterization','Integrated Crop Management','Production Systems and the Environment','Germplasm Enhancemenet and Crop Improvement','ALTAGRO Project','Agriculture and Human','Capacity & Strengthening','Library','Field Research Support','Research Informatics Unit'],['Liaison Office, Quito, Ecuador','Sub-Saharan Africa, Nairobi, Kenya','Liaison Office, Kampala, Uganda','Liaison Office, Lilongwe, Malawi','Laision Office, Maputo, Mozambique','Office, Quelimane, Mozambique','Liaison Office, Angola','Liaison Office, Huambo, Angola','Liaison Office, Ethiopia','South, West and Central Asia, New Delhi, India','Liaison Office, Bhubaneswar, India','Liaison Office, Tashkent, Uzbekistan','East and Southeast Asia and the Pacific, Lembang, Indonesia','Liaison Office, Beijing, China','Liaison Office, Hanoi, Vietman'],['Programs VITAA','Papa Andina','UPWARD','CONDESAN','Urban Harvest'],[]];">

            <script type="text/javascript" src="fading-tabs.js"></script>
            <script type="text/javascript">
                $(function() {$('#tabwrap').tabs({ fxFade: true, fxSpeed: 'slow' }); });
            </script>
            <style type="text/css">
                /* jQuery Fading Tabs: This is all the css that's needed to make it work. The two rules below are generated by the tabs plugin */
                .tabs-hide {
                display:none; /* hide non-active tabs */
                }
                .tabs-container {
                background:#fff; /* kills fadding in/out IE text bug */
                }
            </style>

            <h1 tal:content="context/title"></h1>

            <div class="contact-div-1" id="tabwrap">
                <ul id="tabnav">
                    <li><a href="#tab1">DGs office</a></li>
                    <li><a href="#tab2">Divisions</a></li>
                    <li><a href="#tab3">Regional offices</a></li>
                    <li><a href="#tab4">Partnerships</a></li>
                </ul>

                <tal:areas repeat="deps contactareas">
                    <div tal:define="dep repeat/deps/number;
                                     tabid python:'tab'+str(dep);
                                     listing python:insideareas[dep];"
                         tal:attributes="id tabid"
                         class="tab1-c">
                        <div tal:repeat="inside listing" class="contact-div">
                            <tal:defining>
                                <h2 class="contact-h2" tal:content="inside"></h2>
                                <div class="contact-p" tal:define="n view/cpadHead">
                                    <div class="contact-p-1">
                                        <div class="contact-p-1-1">
                                            <div class="contact-position">Head</div>
                                            <h3>
                                                <span tal:replace="n/pretty_title_or_id" />
                                            </h3>
                                        </div>
                                        <!--div class="contact-p-1-2">
                                            <p>Email: valerie@email.com</p>
                                        </div-->
                                    </div>
                                    <p class="show" id="clickme">Show all staff</p>
                                    <div class="lineBreak"></div>
                                </div>
                                <div class="contacttoggle">
                                    <tal:defs define="n view/cpad">
                                        <div class="contact-p-1" tal:repeat="m n">
                                            <div>
                                                <div class="contact-position" tal:content="m/getPosition" />
                                                <h3>
                                                    <a href="#" tal:attributes="href m/getURL">
                                                        <span tal:replace="m/pretty_title_or_id"/>
                                                    </a>
                                                </h3>
                                            </div>
                                            <!--div class="contact-p-1-2">
                                                <p>Email: email@email.com</p>
                                            </div-->
                                        </div>
                                    </tal:defs>
                                </div>
                            </tal:defining>
                        </div>
                    </div>
                </tal:areas>
            </div>

            <script>
                $(function() {
                    $('.show').click(function(){
                        $(this).parents(".contact-div").children('.contacttoggle').slideToggle('fast');
                        return false; //ensures no anchor jump
                    });
                });
            </script>

        </metal:main>
    </metal:main_macro>
</html>
